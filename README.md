# AMASS-Motion-Auto-Pipeline-
本项目提供了一套完整的流水线，用于将混乱的 AMASS 动作捕获数据（ .npz  格式）自动分类为 17 个特定的运动类别。 系统采用 “规则硬筛 + 深度学习自进化” 的架构，解决了大规模动作数据手动标注难、长尾数据多、 others  类别庞大的痛点。

🏗️ 全流程架构系统分为两个阶段运行，形成一个从“特征工程”到“模型智能”的闭环：第一阶段： classify_complete.py  (物理规则粗分类)原理：利用人体运动学先验知识（Heuristics）。通过解析根节点位移（Root Translation）和关节旋转（DoF），提取水平速度、垂直振幅、关节活跃度等物理特征。策略：关键词匹配：根据文件名（如  walk ,  run ,  fight ）进行初步分类。物理决策树：对无特征名称的文件，根据 $v_{horizontal}$﻿ (水平速)、$v_{vertical}$﻿ (垂直速) 和 $j_{vel}$﻿ (关节动能) 的阈值进行判定。输出：通过  os.link  建立硬链接，快速生成初步分类的文件夹结构。第二阶段： training_supervised.py  (自训练深度学习迭代)原理：采用 自训练（Self-Training） 半监督学习方案。核心逻辑：初始训练：以第一阶段分出的“高质量”样本作为种子集训练 LSTM 分类器。暴力挖掘：对  others  或  tracking_general  中的样本进行推理。动态搬运：置信度达到门槛（$0.95 \rightarrow 0.80$﻿ 动态下降）的样本会被自动  shutil.move  到对应类别文件夹。循环进化：新搬运的样本加入训练集，开始下一轮（共 30 轮）迭代。﻿📊 分类类别定义系统支持以下 17 类精细化动作分类： tracking_dance ,  tracking_fallandgetup ,  tracking_fight ,  tracking_gesture ,  tracking_ground ,  tracking_jump ,  tracking_obstacle ,  tracking_pose ,  tracking_push ,  tracking_run ,  tracking_sit ,  tracking_sprint ,  tracking_throw ,  tracking_treadmill ,  tracking_turn ,  tracking_vehicle ,  tracking_walk ﻿📊 实验结果 (Experimental Results)通过 15 轮 (Rounds) 的迭代，该系统展现了极强的特征提取与数据纠错能力：指标初始状态 (Round 0)最终状态 (Round 15+)训练集规模~5,869 样本14,013 样本待处理池 (Others)几万个文件仅剩 16 个文件训练准确率 (Acc)~30%98% 以上🚀 快速开始1. 环境准备pip install torch numpy tqdm pathlibBash2. 执行第一阶段：粗分类修改  classify_complete.py  中的  SOURCE_DIR  和  TARGET_DIR ：python classify_complete.pyPython此步骤后，你将得到一个按类别排布的文件夹，其中包含大量基于规则预测的文件。3. 执行第二阶段：自训练进化修改主脚本中的  ROOT_DIR  为第一阶段的  TARGET_DIR ：python train_supervised.pyPython脚本将开始 30 轮的“搬运”工作。你会看到  others  文件夹的文件逐渐减少，各类别文件夹日益充实。﻿🛠️ 技术细节物理特征定义 (Stage 1)特征缩写含义判别用途 h 平均水平速度区分静止（Pose）与移动（Walk/Run） vr 高度变化范围区分地面动作（Ground）与跳跃（Jump） j 关节平均活动度区分轻微手势（Gesture）与剧烈搏击（Fight） u/l 上/下肢活跃比区分投掷（Throw）与行走（Locomotion）模型架构 (Stage 2)输入层：72 维动作特征（支持 Padding/Clipping 保持 $T=60$﻿ 帧）。隐含层：双层双向 LSTM ($Hidden=128$﻿)，捕获动作的时序依赖。输出层：全连接层输出 17 类 Logits。﻿⚠️ 注意事项与安全风险数据备份：第二阶段涉及  shutil.move  物理移动操作，具有不可逆性。运行前务必对原始数据进行备份。确认偏误：半监督学习可能会将错误的标注带入下一轮迭代。建议在迭代结束后，对  auto_r{N}_  前缀的文件进行抽样人工检查。IO 负载：在 30 轮迭代中，大量的磁盘读写对硬盘性能有一定要求。﻿
